<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.8.3"><!-- Canonical URL --><link rel="canonical" href="https://borolgs.github.io/blog/htmx-intro/"><!-- Primary Meta Tags --><title>Introduction to HTMX</title><meta name="title" content="Introduction to HTMX"><meta name="description" content="Introduction to HTMX"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://borolgs.github.io/blog/htmx-intro/"><meta property="og:title" content="Introduction to HTMX"><meta property="og:description" content="Introduction to HTMX"><!-- <meta property="og:image" content={new URL(image, Astro.url)} /> --><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://borolgs.github.io/blog/htmx-intro/"><meta property="twitter:title" content="Introduction to HTMX"><meta property="twitter:description" content="Introduction to HTMX"><!-- <meta property="twitter:image" content={new URL(image, Astro.url)} /> --><link rel="stylesheet" href="/_astro/_slug_.Cm1_-nVk.css"><script type="module">new URLSearchParams(window.location.search).has("s")&&document.querySelector("header")?.remove();
</script></head> <body> <header class="container"> <nav aria-label="breadcrumb" hx-boost="true"> <ul> <li> <a href="/">Blog</a> </li> <li> <a href="/{slug}" aria-current="page"> Introduction to HTMX </a> </li> </ul> </nav> </header> <main class="container"> <section> <h1 id="introduction-to-htmx">Introduction to HTMX</h1>
<p><a href="https://htmx.org/">https://htmx.org/</a></p>
<p>HTMX - это библиотека расширяющая возможности HTML.</p>
<p>Можно сказать это то каким должен быть HTML, по мнению ее автора. В комплекте идет достаточно увесистая теоретическая база в виде книги и нескольких эссе:</p>
<ul>
<li><a href="https://hypermedia.systems/book/contents/">Hypermedia Systems Book</a></li>
<li><a href="https://htmx.org/essays/">Essays</a></li>
</ul>
<p>В основе HTMX лежит идея о том, что в текущей реализации HTML есть несколько <em>искусственных</em> ограничений, которые погубили идеи оригинального веба, проиграв приложениям построенным на AJAX-запросах:</p>
<ul>
<li>Почему запросы могут делать только <code>&#x3C;a></code> и <code>&#x3C;form></code>?</li>
<li>Почему только GET и POST?</li>
<li>Почему при выполнении запроса заменяется все содержимое страницы?</li>
</ul>
<p>Что будет если убрать эти ограничения, снабдив <em>все</em> теги дополнительными атрибутами? Будет HTMX.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">script</span><span style="color:#B392F0"> src</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"https://unpkg.com/htmx.org@1.9.12"</span><span style="color:#E1E4E8">>&#x3C;/</span><span style="color:#85E89D">script</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">button</span></span>
<span class="line"><span style="color:#B392F0">	  hx-post</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/clicked"</span><span style="color:#6A737D">   // любой запрос вместо href</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">	  hx-swap</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"innerHTML"</span><span style="color:#6A737D">  // как заменять: целиком тэг (outerHTML) или его содержимое (innerHTML)</span></span>
<span class="line"><span style="color:#6A737D">						   // по умолчанию innerHTML</span></span>
<span class="line"><span style="color:#B392F0">	  hx-target</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"#content"</span><span style="color:#6A737D"> // кому заменять: css-селектор для целевого тэга,</span></span>
<span class="line"><span style="color:#6A737D">						   // по умолчанию это тэг выплоняющий запрос</span></span>
<span class="line"><span style="color:#E1E4E8">	></span></span>
<span class="line"><span style="color:#E1E4E8">    Click Me</span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">div</span><span style="color:#B392F0"> id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"content"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">	   // сюда будет встроен ответ с бэекенда</span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;/</span><span style="color:#85E89D">div</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p>При нажатии на кнопку в бекенд уйдет запрос следующего вида:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="http"><code><span class="line"><span style="color:#E1E4E8">TODO</span></span>
<span class="line"></span></code></pre>
<p>И ожидается что бекенд в ответ вернет готовую верстку и опционально набор управляющие Hx-хедеров.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="http"><code><span class="line"><span style="color:#E1E4E8">TODO</span></span>
<span class="line"></span></code></pre>
<blockquote>
<p>[!important]
Основная функциональность HTMX - это замена кусков HTML на странице (<code>hx-swap</code>, <code>hx-target</code>), на те что придут с бэкенда после выполнения запросов (<code>hx-post</code>,<code> hx-get</code>, <code>hx-put</code>, etc).</p>
</blockquote>
<p>Грубо говоря это react-query на максималках: мы не только держим запросы к АПИ внутри компонента(тэга), но еще сам рендеринг данных отдаем бэкенду, просто встраивая в dom ответ как есть.</p>
<h2 id="attributes">Attributes</h2>
<p>У HTMX простое, но очень гибкое API.
Если провести достаточное кол-во времени за чтением <a href="https://htmx.org/reference/">докуменатации</a>, то можно обнаружить что значительно число вопросов решается использованием комбинаций <code>hx-</code> аттрибутов и их значений. Пара примеров:</p>
<ul>
<li>События которые побуждают к выполнения запроса <a href="https://htmx.org/attributes/hx-trigger/"><code>hx-trigger</code></a>. Возможные варианты:
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="toml"><code><span class="line"><span style="color:#E1E4E8">hx-trigger=</span><span style="color:#9ECBFF">"mouseenter once"</span></span>
<span class="line"><span style="color:#E1E4E8">hx-trigger=</span><span style="color:#9ECBFF">"keyup changed delay:500ms"</span></span>
<span class="line"><span style="color:#E1E4E8">hx-trigger=</span><span style="color:#9ECBFF">"every 2s"</span></span>
<span class="line"><span style="color:#E1E4E8">hx-trigger=</span><span style="color:#9ECBFF">"intersect once"</span></span>
<span class="line"></span></code></pre>
</li>
<li>Дополнительные данные для запроса <a href="https://htmx.org/attributes/hx-vals/"><code>hx-vals</code></a> ,<a href="https://htmx.org/attributes/hx-headers/"><code>hx-headers</code></a>.
По умолчанию HTMX собирает все инпуты с формы, используя их name в качестве ключей для form-data. Но если мы хотим добавить какие-то вычисляемые поля или полностью переопределить тело запроса, есть<code>hx-vals</code>:
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="toml"><code><span class="line"><span style="color:#E1E4E8">hx-vals=</span><span style="color:#9ECBFF">'{"name": "value"}'</span></span>
<span class="line"><span style="color:#E1E4E8">hx-headers=</span><span style="color:#9ECBFF">'{"myHeader": "My Value"}'</span></span>
<span class="line"></span></code></pre>
</li>
<li>Синхронизация запросов разных элементов <a href="https://htmx.org/attributes/hx-sync/"><code>hx-sync</code></a>:
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// Пример с серверной валидацией инпутов</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">form</span><span style="color:#B392F0"> hx-post</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/store"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"title"</span><span style="color:#B392F0"> name</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"title"</span><span style="color:#B392F0"> type</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"text"</span></span>
<span class="line"><span style="color:#B392F0">        hx-post</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/validate"</span></span>
<span class="line"><span style="color:#B392F0">        hx-trigger</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"change"</span></span>
<span class="line"><span style="color:#B392F0">        hx-sync</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"closest form:abort"</span><span style="color:#6A737D"> // будет отменен при сабмите формы</span></span>
<span class="line"><span style="color:#E1E4E8">  ></span></span>
<span class="line"><span style="color:#E1E4E8">    &#x3C;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> type</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"submit"</span><span style="color:#E1E4E8">>Submit&#x3C;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
Возможные варианты:
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="toml"><code><span class="line"><span style="color:#FDAEB7;font-style:italic">hx-sync>="&#x3C;css_selector> &#x3C;stra>"</span></span>
<span class="line"><span style="color:#E1E4E8">hx-sync=</span><span style="color:#9ECBFF">"closest form:drop"</span><span style="color:#6A737D"> # сабмит запрос будет ждать валидацию</span></span>
<span class="line"><span style="color:#E1E4E8">hx-sync=</span><span style="color:#9ECBFF">"this:replace"</span></span>
<span class="line"></span></code></pre>
</li>
</ul>
<p>Отдельно хочется упомянуть <a href="https://htmx.org/attributes/hx-boost/"><code>hx-boost</code></a>.
Это такая прикольная киллер-фича, которая одной строчкой превращает классический WEB 1.0 сайт в SPA приложение.
Точнее дает такое <em>ощущение</em>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="html"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">body</span><span style="color:#B392F0"> hx-boost</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"true"</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">  &#x3C;</span><span style="color:#85E89D">a</span><span style="color:#B392F0"> href</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"/blog"</span><span style="color:#E1E4E8">>Blog&#x3C;/</span><span style="color:#85E89D">a</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">body</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre>
<p>C точки зрения бэкенда ничего не меняется. После клика по ссылке сервер вернет index.html целиком, но странице не будет перегружена. Вместо этого HTMX просто тихонечко обновит DOM.</p>
<p>Со стороны бекенда, похожее API на основе <code>Hx-</code> хедеров:</p>
<ul>
<li><a href="https://htmx.org/reference/#request_headers">Request</a>:
<ul>
<li>HX-Request - маркер что этот запрос выполнен htmx’ом</li>
<li>HX-Target</li>
<li>Hx-Event - доп. данные события</li>
</ul>
</li>
<li><a href="https://htmx.org/reference/#response_headers">Response</a>:
<ul>
<li>HX-Redirect,</li>
<li>HX-Retarget - переопределение hx-target из атрибута</li>
<li>Hx-Trigger - вызов определенного события на фронте</li>
</ul>
</li>
</ul>
<h2 id="api">API</h2>
<p>На тот случай, когда декларативного инструментария HTMX будет не хватать (а его будет не хватать!), есть следующие возможности:</p>
<p>В первую очередь, <em>почти все</em> происходящее в HTMX - это браузерные CustomEvent’ы, на которые можно подписаться и как-то мутировать их значения.
<a href="https://htmx.org/reference/#events">https://htmx.org/reference/#events</a></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// htmx.on == document.body.addEventListener</span></span>
<span class="line"><span style="color:#E1E4E8">htmx.</span><span style="color:#B392F0">on</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'htmx:responseError'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">event</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (event.detail?.xhr?.status </span><span style="color:#F97583">===</span><span style="color:#79B8FF"> 403</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#6A737D">    // handle Forbidden response</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">htmx.</span><span style="color:#B392F0">on</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'htmx:configRequest'</span><span style="color:#E1E4E8">, </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">event</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">  evt.detail.headers[</span><span style="color:#9ECBFF">'My-Awesome-Header'</span><span style="color:#E1E4E8">] </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> 'value'</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<p>Помимо ручной подписки на эти события, расширения можно упаковывать официально, подключая их к элементам с помощью <code>hx-ext</code> атрибута.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">htmx.</span><span style="color:#B392F0">defineExtension</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'my-ext'</span><span style="color:#E1E4E8">, {</span></span>
<span class="line"><span style="color:#B392F0">  onEvent</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">function</span><span style="color:#E1E4E8"> (</span><span style="color:#FFAB70">name</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">evt</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Fired event: '</span><span style="color:#F97583"> +</span><span style="color:#E1E4E8"> name, evt);</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#6A737D">  // transformResponse : function(text, xhr, elt) {return text;},</span></span>
<span class="line"><span style="color:#6A737D">  // isInlineSwap : function(swapStyle) {return false;},</span></span>
<span class="line"><span style="color:#6A737D">  // handleSwap : function(swapStyle, target, fragment, settleInfo) {return false;},</span></span>
<span class="line"><span style="color:#6A737D">  // encodeParameters : function(xhr, parameters, elt) {return null;}</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span></code></pre>
<p>У HTMX есть пачка авторских <a href="https://htmx.org/extensions/#included">расширений</a>. Некоторые из них:</p>
<ul>
<li><code>json-enc</code> - Json вместо FormData</li>
<li><code>event-header</code> - Отправка всех данных по событию</li>
<li><code>alpine-morph</code> - интергация с Alpine.js</li>
<li><code>web-socket</code></li>
</ul>
<p>Сам htmx доступен как глобальная переменная и помимо <code>.defineExtension</code> и <code>.on</code> обладает различными вспомогательными <a href="https://htmx.org/reference/#api">методами</a>, например: <code>.ajax</code>, <code>.logger</code>, <code>.config</code></p>
<h3 id="alpinejs">Alpine.js</h3>
<p>Кроме ванильного JS есть еще две базовые альтернативы:</p>
<ul>
<li>Hyperscript - выразительный, заточенный под HTMX язык для инлайн скриптов. <em>Мне не нравится</em>.</li>
<li>Alpine.js - Vue-подобный микро-фремворк, превращающий обычную верстку в реактивные компоненты с помощью атрибутов <code>x-</code></li>
</ul>
<p><a href="https://alpinejs.dev/">Alpine.js</a> - чудесная вещь в себе, достойная отдельной статьи. C огромным количеством возможностей, расширяемостью и с <code>@vue/reactivity</code> в качестве основы для реактивности.</p>
<p>И если начать угорать по этой теме, верстка может выглядеть как-то так:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">input</span></span>
<span class="line"><span style="color:#B392F0">  id</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"search"</span></span>
<span class="line"><span style="color:#B392F0">  type</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"text"</span></span>
<span class="line"><span style="color:#B392F0">  autocomplete</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"off"</span></span>
<span class="line"><span style="color:#B392F0">  x-data</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"querysync"</span><span style="color:#6A737D"> // в x-data может быть как inline-js так и ссылка на компонент</span></span>
<span class="line"><span style="color:#B392F0">  x-model</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"value"</span><span style="color:#6A737D"> // x-model - это двусторонние биндинги инпутов</span></span>
<span class="line"><span style="color:#B392F0">  x-bind</span><span style="color:#E1E4E8">:</span><span style="color:#B392F0">hx-vals</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"vals"</span></span>
<span class="line"><span style="color:#B392F0">  hx-get</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"{{endpoint}}"</span></span>
<span class="line"><span style="color:#B392F0">  hx-target</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"#main"</span></span>
<span class="line"><span style="color:#B392F0">  hx-swap</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"innerHTML scroll:top"</span></span>
<span class="line"><span style="color:#B392F0">  hx-trigger</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"keyup changed delay:300ms queue:last"</span></span>
<span class="line"><span style="color:#B392F0">  placeholder</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"Search..."</span></span>
<span class="line"><span style="color:#E1E4E8">/></span></span>
<span class="line"></span></code></pre>
<p>Итого рекомендуемый суповой набор это:</p>
<ul>
<li>HTMX, Alpine.js</li>
<li><a href="https://picocss.com/">PicoCSS</a> или TailwindCSS (если сниппет выше для вас недостаточно толстый)</li>
<li>Любой бекенд.<br>
Кажется для любого языка есть htmx-библиотеки, но все они в первую очередь просто обертки для манипуляций с <code>Hx-..</code> хедерами и можно без них.</li>
<li>Любой шаблонизатор, но желательно с поддержкой рендеринга <a href="https://htmx.org/essays/template-fragments/">отдельных блоков</a>. <code>React.renderToString()</code> - тоже отличная идея.</li>
</ul>
<h1 id="htmx-как-библиотека">HTMX как библиотека</h1>
<p>Что такое HTMX как идея, кратко описано вначале статьи, <a href="https://htmx.org/essays/hateoas/">не буду повторятся</a>.</p>
<p>Но помимо этого, HTMX еще и хорошо спроектированная, с большим запасом прочности, библиотека, которая может использоваться в любых комбинациях и с любыми технологиями:</p>
<ul>
<li>HTMX основа и любой фреймворк в качестве островов реактивности - пожалуйста</li>
<li>Классическое SPA, гда часть компонентов работает на HTMX - не вопрос</li>
<li>Десктопное приложение на WebView (<a href="https://tauri.app/">Tauri</a>), где вообще нет HTTP-запросов, а вместо них команды и события для общения с rust-бекендом - <a href="https://github.com/roniemartinez/tauri-plugin-htmx">почему нет</a></li>
</ul>
<blockquote>
<p>[!important]
Еще стоит отметить, что HTMX представляет собой 4000 строчек олдскульного JS’а <a href="https://github.com/bigskysoftware/htmx/blob/master/src/htmx.js">в одном файле</a> без зависимостей, которые просто <em>работают</em>.</p>
</blockquote>
<h1 id="личный-опыт">Личный опыт</h1>
<p>Вначале хочется процитировать Ивана Гришаева, который написал <a href="https://grishaev.me/htmx/">серию заметок о HTMX</a>:</p>
<blockquote>
<p>HTMX — это не очередная JS-поделка, снискавшая популярность. <strong>HTMX и его аналоги — это протест</strong>. Отказ от того, что предлагает индустрия для разработки приложений в браузере. Протест — по определению более сильная вещь, чем хайп, потому что в его основе идея.</p>
</blockquote>
<p>Я пошел изучать HTMX после прочтения статьи про серверные компоненты 🙃.</p>
<p>Несмотря на стройность и красивость телег про HATEOAS, кажется что поезд всего этого ушел. Для меня HTMX это не про правильный Web и настоящий Rest, а попытка сделать шаг назад, упростить и переосмыслить то, что стало слишком сложным и безумным.</p>
<p>Мне, как человеку уже искалеченному фронтендом, вместо HTMX проще сделать так:
взять актуальный фреймворк без VDom’а; взять библиотеку берущую на себя организацию реактивной бизнес-логики; генерировать готовые API-клиенты на основе OpenAPI и в ус не дуть. У меня будут те же 50-100кб JS’а что и у HTMX(+Alpine), понятный мне флоу работы приложения и небольшое количество прямых зависимостей.</p>
<p>Скорость, удобство разработки, простота, худенький node_modules - все это возможно и без таких кардинальных вещей как уход в HTMX.</p>
<p>К тому же, все мои попытки реализации более-менее сложных вещей на HTMX превращаются в очко, где логика размазана по html-атрибутам, JS-функциям, шаблонам и контроллерам.</p>
<p>Но это не значит что я брошу свои попытки построения архитектуры приложений подобным образом. И самое главное, это не значит что идеи заложенные в HTMX не работают.</p>
<p>Возможно нужно подумать еще, например: отпустить HTML атрибуты, и перенести декларативное описание логики в другое место. И по хорошему, нужно просмотреть что есть в альтернативных комплексных решениях (<a href="https://hotwired.dev/">Hotwire(RoR)</a>, <a href="https://laravel-livewire.com/">Liewire(PHP)</a>). Может проблемы с которыми я столкнулся там уже решены.</p>
<blockquote>
<p>[!warning] Текст выше про большие и кучерявые приложения
Если вы делаете маленький сервис, неказистую админку, хотите быстро проверить какую-то гипотезу или просто пишете простой сайт, не выебываясь сложным UI, то HTMX вам подойдет <em>безусловно</em>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="ini"><code><span class="line"><span style="color:#F97583">hx-boost</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"go brrrr"</span></span>
<span class="line"></span></code></pre>
</blockquote> </section> </main> <footer class="container"></footer> </body></html>